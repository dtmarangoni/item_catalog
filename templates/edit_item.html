{% extends "main.html" %}

{% block title %}Edit Item{% endblock %}

{% block header %}
  <h1 class="display-5 text-center text-white font-weight-bold p-0 m-0">Edit Item</h1>
{% endblock %}

{% block content %}
  <hr>

  <!-- Editing form -->
  <div class="row mt-3 align-items-center">
    <div class="col-auto">
      <form action="{{url_for('edit_item', category=category, item=item.name)}}" method='POST'>
        <div class="row mb-3">
          <div class="col">
            <label for="title" class="dark_gray-font font-weight-bold">Title</label>
            <input type="text" class="form-control" name="name" id="title" value='{{item.name}}' required>
          </div>
        </div>
        <div class="row my-3">
          <div class="col">
            <label for="description" class="dark_gray-font font-weight-bold">Description</label>
            <textarea class="form-control" name="description" id="description" rows="4" cols="50" required>{{item.description}}</textarea>
          </div>
        </div>
        <div class="row my-3">
          <div class="col-auto">
            <label for="category"
                   class="dark_gray-font font-weight-bold">Category</label>
            <select class="form-control" name="category" id="category" required>

              {% for cat in categories %}
                <option>{{cat.name}}</option>
              {% endfor %}

            </select>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-auto">
            <button type="submit" class="btn orange-bg text-white font-weight-bold mt-2 button-width-normal">Edit</button>
            <a class="btn orange-bg text-white font-weight-bold mt-2 button-width-normal" href="javascript:history.back()">Cancel</a>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script type="text/javascript">
    var cat = "{{category}}";
    if (cat != "None") {
      select_element("category", cat)
    }

    function select_element(id, value) {
      var element = document.getElementById(id);
      element.value = value;
    }
  </script>
{% endblock %}